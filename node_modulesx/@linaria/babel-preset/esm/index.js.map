{"version":3,"sources":["../src/index.ts"],"names":["debug","loadOptions","slugify","EvalCache","default","buildOptions","JSXElement","ProcessCSS","ProcessStyled","Module","transform","extractCssFromAst","shouldTransformCode","isNode","getVisitorKeys","peek","CollectDependencies","DetectStyledImportName","GenerateClassNames","isEnabled","caller","name","evaluate","linaria","babel","options","JSON","stringify","plugins","require"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAGA,SAASA,KAAT,QAAsB,iBAAtB;AAEA,OAAOC,WAAP,MAAwB,qBAAxB;AAEA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,OAAO,KAAKC,SAAZ,MAA2B,cAA3B;AACA,SAASC,OAAO,IAAIC,YAApB,QAAwC,2BAAxC;AACA,SAASD,OAAO,IAAIE,UAApB,QAAsC,kCAAtC;AACA,SAASF,OAAO,IAAIG,UAApB,QAAsC,kCAAtC;AACA,SAASH,OAAO,IAAII,aAApB,QAAyC,qCAAzC;AACA,SAASJ,OAAO,IAAIK,MAApB,QAAkC,UAAlC;AACA,SACEL,OAAO,IAAIM,SADb,EAEEC,iBAFF,EAGEC,mBAHF,QAIO,aAJP;AAKA,cAAc,SAAd;AAEA,SAASR,OAAO,IAAIS,MAApB,QAAkC,gBAAlC;AACA,SAAST,OAAO,IAAIU,cAApB,QAA0C,wBAA1C;AACA,SAASV,OAAO,IAAIW,IAApB,QAAgC,cAAhC;AACA,SAASX,OAAO,IAAIY,mBAApB,QAA+C,gCAA/C;AACA,SAASZ,OAAO,IAAIa,sBAApB,QAAkD,mCAAlD;AACA,SAASb,OAAO,IAAIc,kBAApB,QAA8C,+BAA9C;;AAEA,SAASC,SAAT,CAAmBC,MAAnB,EAAmE;AACjE,SAAOA,MAAM,EAAEC,IAAR,KAAiB,SAAjB,IAA8B,CAACD,MAAM,CAACE,QAA7C;AACD;;AAED,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAmCC,OAAnC,EAA2D;AACxE,MAAI,CAACD,KAAK,CAACJ,MAAN,CAAaD,SAAb,CAAL,EAA8B;AAC5B,WAAO,EAAP;AACD;;AACDnB,EAAAA,KAAK,CAAC,SAAD,EAAY0B,IAAI,CAACC,SAAL,CAAeF,OAAf,CAAZ,CAAL;AACA,SAAO;AACLG,IAAAA,OAAO,EAAE,CAAC,CAACC,OAAO,CAAC,WAAD,CAAR,EAAuB5B,WAAW,CAACwB,OAAD,CAAlC,CAAD;AADJ,GAAP;AAGD","sourcesContent":["/**\n * File defines babel prest for Linaria.\n * It uses ./extract function that is an entry point for styles extraction.\n * It also bypass babel options defined in Linaria config file with it's defaults (see ./utils/loadOptions).\n */\nimport type { ConfigAPI, TransformCaller } from '@babel/core';\n\nimport { debug } from '@linaria/logger';\nimport type { PluginOptions } from './utils/loadOptions';\nimport loadOptions from './utils/loadOptions';\n\nexport { slugify } from '@linaria/utils';\n\nexport * as EvalCache from './eval-cache';\nexport { default as buildOptions } from './evaluators/buildOptions';\nexport { default as JSXElement } from './evaluators/visitors/JSXElement';\nexport { default as ProcessCSS } from './evaluators/visitors/ProcessCSS';\nexport { default as ProcessStyled } from './evaluators/visitors/ProcessStyled';\nexport { default as Module } from './module';\nexport {\n  default as transform,\n  extractCssFromAst,\n  shouldTransformCode,\n} from './transform';\nexport * from './types';\nexport type { PluginOptions } from './utils/loadOptions';\nexport { default as isNode } from './utils/isNode';\nexport { default as getVisitorKeys } from './utils/getVisitorKeys';\nexport { default as peek } from './utils/peek';\nexport { default as CollectDependencies } from './visitors/CollectDependencies';\nexport { default as DetectStyledImportName } from './visitors/DetectStyledImportName';\nexport { default as GenerateClassNames } from './visitors/GenerateClassNames';\n\nfunction isEnabled(caller?: TransformCaller & { evaluate?: true }) {\n  return caller?.name !== 'linaria' || !caller.evaluate;\n}\n\nexport default function linaria(babel: ConfigAPI, options: PluginOptions) {\n  if (!babel.caller(isEnabled)) {\n    return {};\n  }\n  debug('options', JSON.stringify(options));\n  return {\n    plugins: [[require('./extract'), loadOptions(options)]],\n  };\n}\n"],"file":"index.js"}