import DepsGraph from './DepsGraph';
import ScopeManager from './scope';
export default class GraphBuilderState {
  scope = new ScopeManager();
  graph = new DepsGraph(this.scope);
  meta = new Map();
  callbacks = [];
  /*
   * For expressions like `{ foo: bar }` we need to now context
   *
   * const obj = { foo: bar };
   * Here context is `expression`, `bar` is a variable which depends from its declaration.
   *
   * const { foo: bar } = obj;
   * Here context is `pattern` and `bar` is a variable declaration itself.
   */

  context = [];
  fnStack = [];

  onVisit(callback) {
    this.callbacks.push(callback);
    return () => {
      this.callbacks = this.callbacks.filter(c => c !== callback);
    };
  }

}
//# sourceMappingURL=GraphBuilderState.js.map