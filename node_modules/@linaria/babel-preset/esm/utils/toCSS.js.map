{"version":3,"sources":["../../src/utils/toCSS.ts"],"names":["unitless","isSerializable","isBoxedPrimitive","hyphenate","s","startsWith","replace","match","p1","toLowerCase","toCSS","o","Array","isArray","map","join","valueOf","toString","Object","entries","filter","value","key","p2","p3"],"mappings":"AAAA,SAASA,QAAT,QAAyB,UAAzB;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;;AAEA,MAAMC,SAAS,GAAIC,CAAD,IAAe;AAC/B,MAAIA,CAAC,CAACC,UAAF,CAAa,IAAb,CAAJ,EAAwB;AACtB;AACA,WAAOD,CAAP;AACD;;AACD,SACEA,CAAC,CACC;AADD,GAEEE,OAFH,CAEW,UAFX,EAEuB,CAACC,KAAD,EAAQC,EAAR,KAAgB,IAAGA,EAAE,CAACC,WAAH,EAAiB,EAF3D,EAGE;AAHF,GAIGH,OAJH,CAIW,MAJX,EAImB,MAJnB,CADF;AAOD,CAZD,C,CAcA;AACA;;;AACA,eAAe,SAASI,KAAT,CAAeC,CAAf,EAAqC;AAClD,MAAIC,KAAK,CAACC,OAAN,CAAcF,CAAd,CAAJ,EAAsB;AACpB,WAAOA,CAAC,CAACG,GAAF,CAAMJ,KAAN,EAAaK,IAAb,CAAkB,IAAlB,CAAP;AACD;;AAED,MAAIb,gBAAgB,CAACS,CAAD,CAApB,EAAyB;AACvB,WAAOA,CAAC,CAACK,OAAF,GAAYC,QAAZ,EAAP;AACD;;AAED,SAAOC,MAAM,CAACC,OAAP,CAAeR,CAAf,EACJS,MADI,CAEH,CAAC,GAAGC,KAAH,CAAD,KACE;AACA,SAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAJ5B,EAMJP,GANI,CAMA,CAAC,CAACQ,GAAD,EAAMD,KAAN,CAAD,KAAkB;AACrB,QAAIpB,cAAc,CAACoB,KAAD,CAAlB,EAA2B;AACzB,aAAQ,GAAEC,GAAI,MAAKZ,KAAK,CAACW,KAAD,CAAQ,IAAhC;AACD;;AAED,WAAQ,GAAElB,SAAS,CAACmB,GAAD,CAAM,KACvB,OAAOD,KAAP,KAAiB,QAAjB,IACAA,KAAK,KAAK,CADV,IAEA;AACA,MACEC,GAAG,CAAChB,OAAJ,CACE,gCADF,EAEE,CAACC,KAAD,EAAQC,EAAR,EAAYe,EAAZ,EAAgBC,EAAhB,KAAwB,GAAED,EAAE,CAACd,WAAH,EAAiB,GAAEe,EAAG,EAFlD,KAGKxB,QAJP,CAHA,GASK,GAAEqB,KAAM,IATb,GAUIA,KACL,GAZD;AAaD,GAxBI,EAyBJN,IAzBI,CAyBC,GAzBD,CAAP;AA0BD","sourcesContent":["import { unitless } from '../units';\nimport type { JSONValue } from '../types';\nimport isSerializable from './isSerializable';\nimport isBoxedPrimitive from './isBoxedPrimitive';\n\nconst hyphenate = (s: string) => {\n  if (s.startsWith('--')) {\n    // It's a custom property which is already well formatted.\n    return s;\n  }\n  return (\n    s\n      // Hyphenate CSS property names from camelCase version from JS string\n      .replace(/([A-Z])/g, (match, p1) => `-${p1.toLowerCase()}`)\n      // Special case for `-ms` because in JS it starts with `ms` unlike `Webkit`\n      .replace(/^ms-/, '-ms-')\n  );\n};\n\n// Some tools such as polished.js output JS objects\n// To support them transparently, we convert JS objects to CSS strings\nexport default function toCSS(o: JSONValue): string {\n  if (Array.isArray(o)) {\n    return o.map(toCSS).join('\\n');\n  }\n\n  if (isBoxedPrimitive(o)) {\n    return o.valueOf().toString();\n  }\n\n  return Object.entries(o)\n    .filter(\n      ([, value]) =>\n        // Ignore all falsy values except numbers\n        typeof value === 'number' || value\n    )\n    .map(([key, value]) => {\n      if (isSerializable(value)) {\n        return `${key} { ${toCSS(value)} }`;\n      }\n\n      return `${hyphenate(key)}: ${\n        typeof value === 'number' &&\n        value !== 0 &&\n        // Strip vendor prefixes when checking if the value is unitless\n        !(\n          key.replace(\n            /^(Webkit|Moz|O|ms)([A-Z])(.+)$/,\n            (match, p1, p2, p3) => `${p2.toLowerCase()}${p3}`\n          ) in unitless\n        )\n          ? `${value}px`\n          : value\n      };`;\n    })\n    .join(' ');\n}\n"],"file":"toCSS.js"}